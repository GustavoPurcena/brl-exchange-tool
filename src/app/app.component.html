<!-- Toolbar -->



<div class="body" fxLayout="column" fxLayoutAlign="start center" fxLayoutGap="32px">
  <div class="header" fxLayout="column" fxLayoutAlign="center center" fxLayoutGap="8px">
    <div class="header-logo" fxLayout="row" fxLayoutAlign="center center">
      <img src="assets/logo/ActionLabs.svg">
    </div>
    <div class="divider"></div>
  </div>

  <div class="title">
    {{ title }}
  </div>
  <form #form="ngForm">
    <div fxLayout="column" fxLayoutAlign="start center" fxLayoutGap="32px">
      <div class="full-width" fxLayout="row">
        <mat-form-field class="full-width" appearance="fill">
          <mat-label>Enter the currency code</mat-label>
          <input [(ngModel)]="currency" [ngModelOptions]="{standalone: true}" matInput required>
        </mat-form-field>
      </div>

      <div fxLayout="row">
        <button class="button" mat-button (click)="getExchange()" [disabled]="!form.valid">
          <span class="button-text">EXCHANGE RESULT</span>
        </button>
      </div>

      <div *ngIf="currencyObj" class="full-width" fxLayout="column" fxLayoutAlign="start center" fxLayoutGap="32px">
        <div class="divider">
        </div>
        <div class="full-width" fxLayout="row" fxLayoutAlign="space-between center">
          <div fxLayout="column" fxLayoutAlign="space-between start" fxLayoutGap="4px">
            <span class="date-title">
              Exchange rate now
            </span>
            <span class="date-value">
              {{ currencyObj.lastUpdatedAt | date: 'dd/MM/yyyy HH:mm' }}
            </span>
          </div>

          <div class="title" fxLayout="column">
            {{ currency + '/BRL' }}
          </div>

        </div>

        <div class="full-width value-box" fxLayout="row" fxLayoutAlign="center center">
          <span>R$&nbsp;{{ (1 / currencyObj.exchangeRate).toFixed(2) }}</span>
        </div>

        <div class="full-width" fxLayout="column" fxLayoutAlign="start center" fxLayoutGap="8px">
          <div class="full-width" fxLayout="row" fxLayoutAlign="space-between center">
            <div class="range-title">
              LAST 30 DAYS
            </div>
            <div>
              <button class="expand-button" mat-icon-button (click)="collapsedHistory = !collapsedHistory">
                <mat-icon *ngIf="collapsedHistory; else minusButton">add</mat-icon>
                <ng-template #minusButton>
                  <mat-icon>remove</mat-icon>
                </ng-template>
              </button>
            </div>
          </div>

          <div *ngIf="collapsedHistory; else exchangeHistory" style="background-color: #07B0FB !important;"
            class="divider">
          </div>
          <ng-template #exchangeHistory>
            <div style="background-color: #F4F4F4;" fxLayout="column">
              <div></div>
              <div style="background-color: #07B0FB !important;" class="divider">
              </div>
            </div>
          </ng-template>

        </div>
      </div>
    </div>
  </form>

</div>

<!-- Footer -->
<div class="footer" fxLayout="row" fxLayoutAlign="center center">
  <span>Copyright 2022 - Action Labs</span>
</div>


<router-outlet></router-outlet>